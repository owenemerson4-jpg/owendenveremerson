<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Folder â€” Scandinavian Flat Version (Final Portrait Lock)</title>

<!-- Orbitron font -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet">

<!-- p5.js -->
<script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.min.js"></script>

<style>
  /* your entire existing CSS unchanged up to the end of your <style> tag */
  /* ... (all your original rules) ... */

  /* --- NEW OVERLAY CONTAINER FOR P5 --- */
  #p5-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 9999;           /* on top of everything */
    pointer-events: none;    /* never block clicks */
    background: transparent; /* truly transparent */
  }
</style>
</head>
<body>
  <!-- NEW: top-layer overlay for p5 sketch -->
  <div id="p5-overlay"></div>

  <!-- everything else in your HTML stays the same -->
  <!-- Clouds -->
  <div class="cloud small" aria-hidden="true"></div>
  <div class="cloud large" aria-hidden="true"></div>

  <!-- Folder Structure -->
  <div class="folder-back" aria-hidden="true"></div>
  <div class="tabs">
    <div class="tab manila"><button>Tab One</button></div>
    <div class="tab green"><button>Tab Two</button></div>
    <div class="tab pink"><button>Tab Three</button></div>
  </div>
  <div class="paper" aria-hidden="true"></div>
  <div class="folder-front" aria-hidden="true">
    <div class="card-stack">
      <div class="card"><img src="my_homepage/img1.png" alt="Card 1"></div>
      <div class="card"><video src="my_homepage/HeartSpinWebsite.mp4" muted autoplay loop playsinline></video></div>
      <div class="card"><img src="my_homepage/img2.png" alt="Card 2"></div>
      <div class="card"><img src="my_homepage/img3.png" alt="Card 3"></div>
    </div>
  </div>

<script>
/* your existing JS for card stack stays the same ... */

/* --- TOP-LAYER P5 SKETCH --- */
new p5(p => {
  let gridTex, textLayer, sphereDetail = 50, autoRotate = 0;
  const aspectRatio = 0.25;

  p.setup = function() {
    const container = document.getElementById('p5-overlay');
    const w = window.innerWidth;
    const h = w * aspectRatio;
    const c = p.createCanvas(w, h, p.WEBGL);
    c.parent(container);
    p.setAttributes('alpha', true);
    p.noStroke();

    gridTex = p.createGraphics(512, 256);
    gridTex.clear();
    drawGridTexture(gridTex);

    textLayer = p.createGraphics(w, h);
    textLayer.pixelDensity(1);
    textLayer.clear();
    updateTextLayer(w, h);
  };

  p.draw = function() {
    p.clear();
    p.push();
    p.translate(-p.width / 2, 0, 0);

    const radius = p.height * 0.40;
    const sphereCX = radius + p.height * 0.10;

    autoRotate += 0.003;
    p.push();
    p.translate(sphereCX, 0, 0);
    const rotY = p.map(p.mouseX, 0, p.width, -p.PI, p.PI);
    const rotX = p.map(p.mouseY, 0, p.height, -p.PI / 2, p.PI / 2);
    p.rotateY(rotY + autoRotate);
    p.rotateX(rotX * 0.5);

    p.fill(255, 255, 255, 150);
    p.texture(gridTex);
    p.sphere(radius, sphereDetail, sphereDetail);
    p.pop();

    updateTextLayer(p.width, p.height);
    p.image(textLayer, 0, -p.height / 2);
    p.pop();
  };

  function updateTextLayer(w, h) {
    if (textLayer.width !== w || textLayer.height !== h) {
      textLayer.resizeCanvas(w, h);
    }
    textLayer.clear();

    const pastelColors = [
      [255, 182, 193],
      [173, 216, 230],
      [152, 251, 152]
    ];

    textLayer.textAlign(textLayer.LEFT, textLayer.CENTER);
    textLayer.textFont('Orbitron, monospace');
    const fontSize = h * 0.8;
    textLayer.textSize(fontSize);

    const radius = h * 0.4;
    const sphereCX = radius + h * 0.1;
    const oSpacing = radius * 0.95;
    const textStartX = sphereCX + oSpacing - 8;
    const baseText = "wen Denver Emerson";

    // soft shadow
    textLayer.noStroke();
    textLayer.fill(0, 0, 0, 70);
    textLayer.text(baseText, textStartX + 2, h / 2 + 2);

    // iridescent outline
    pastelColors.forEach((rgb, idx) => {
      textLayer.stroke(rgb[0], rgb[1], rgb[2], 220);
      textLayer.strokeWeight(3);
      textLayer.noFill();
      textLayer.text(baseText, textStartX + idx * 0.6, h / 2 + idx * 0.4);
    });

    // thin white outline
    textLayer.stroke(255);
    textLayer.strokeWeight(1);
    textLayer.noFill();
    textLayer.text(baseText, textStartX, h / 2);

    // white fill
    textLayer.noStroke();
    textLayer.fill(255);
    textLayer.text(baseText, textStartX, h / 2);
  }

  function drawGridTexture(pg) {
    pg.clear();
    pg.strokeWeight(2);
    const colors = [
      p.color(255,182,193),
      p.color(173,216,230),
      p.color(152,251,152)
    ];
    for (let i = 0; i <= pg.width; i += pg.width / 12) {
      const c = colors[int((i / (pg.width / 12)) % 3)];
      pg.stroke(c);
      pg.line(i, 0, i, pg.height);
    }
    for (let j = 0; j <= pg.height; j += pg.height / 6) {
      const c = colors[int((j / (pg.height / 6)) % 3)];
      pg.stroke(c);
      pg.line(0, j, pg.width, j);
    }
  }

  p.windowResized = function() {
    const w = window.innerWidth;
    const h = w * aspectRatio;
    p.resizeCanvas(w, h);
    updateTextLayer(w, h);
  };
});
</script>
</body>
</html>
