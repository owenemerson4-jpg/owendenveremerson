<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Folder â€” final layered version</title>
<style>
  /* reset */
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%;width:100%;overflow:hidden;font-family:Inter,system-ui,Arial,sans-serif}

  /* ---------- SKY & CLOUDS ---------- */
  body{
    background: linear-gradient(to bottom, #bfe5ff 0%, #eaf7ff 80%);
    position:relative;
  }
  .cloud{
    position:absolute;
    background:#fff;
    border-radius:50%;
    opacity:.85;
    box-shadow:
      36px 8px 0 0 #fff,
      72px 14px 0 0 #fff,
      18px 22px 0 0 #fff,
      56px 30px 0 0 #fff;
    z-index:1;
    pointer-events:none;
  }
  .cloud.small{ width:90px; height:44px; top:6%; left:8%; transform:scale(.9); animation:float 38s linear infinite; }
  .cloud.large{ width:140px; height:72px; top:12%; right:6%; transform:scale(1.1); animation:float 52s linear infinite; animation-delay:-6s;}
  @keyframes float{ from{transform:translateX(-240px)} to{transform:translateX(100vw)} }

  /* ---------- BACK FOLDER ---------- */
  .folder-back{
    position:absolute;
    left:0;
    bottom:0;
    width:100%;
    height:86%;
    background: linear-gradient(to bottom, #e9d79a 0%, #e2c97f 100%);
    border-top-left-radius:14px;
    border-top-right-radius:14px;
    z-index:2;
  }

  /* ---------- TABS ---------- */
  .tabs{
    position:absolute;
    left:0;
    width:100%;
    top:6%;
    height:12%;
    padding-left:3%;
    display:flex;
    gap:1.2%;
    align-items:flex-end;
    z-index:3;
    pointer-events:none;
  }
  .tab {
    pointer-events:auto;
    flex:0 0 18%;
    height:92%;
    display:flex;
    align-items:center;
    justify-content:center;
    border-top-left-radius:10px;
    border-top-right-radius:10px;
    font-weight:700;
    color:#2f2f2f;
    box-shadow:0 4px 10px rgba(0,0,0,0.12);
    border-bottom:2px solid rgba(0,0,0,0.14);
    cursor:pointer;
    transform-origin:center bottom;
    transition:transform .18s ease, filter .12s ease;
  }
  .tab:active{ transform:translateY(1px) }
  .tab.manila{ background: linear-gradient(to bottom,#f7e9b8,#f2d58b); color:#4a3b0a; }
  .tab.green{ background: linear-gradient(to bottom,#cfeec7,#b6e0a7); color:#1f4d2b }
  .tab.pink{  background: linear-gradient(to bottom,#f7cfcf,#f0aeb0); color:#5a3131 }

  .tab:nth-child(1){ margin-top:6%; z-index:5; }
  .tab:nth-child(2){ margin-top:10%; z-index:4; }
  .tab:nth-child(3){ margin-top:14%; z-index:3; }

  /* ---------- PAPER ---------- */
  .paper{
    position:absolute;
    left:0;
    width:100%;
    top:15.5%;
    height:4.6%;
    background: #fffef8;
    border-radius: 6px 6px 0 0;
    box-shadow: 0 3px 6px rgba(0,0,0,0.10);
    z-index:4;
    pointer-events:none;
  }

  /* ---------- FRONT FOLDER ---------- */
  .folder-front{
    position:absolute;
    left:0;
    bottom:0;
    width:100%;
    top:19%;
    background: linear-gradient(to bottom,#f5e0a1 0%,#f2d58b 100%);
    border-top-left-radius:14px;
    border-top-right-radius:14px;
    box-shadow: 0 -6px 20px rgba(0,0,0,0.12), inset 0 -8px 14px rgba(0,0,0,0.06);
    z-index:5;
    overflow:hidden;
  }

  .folder-front::before{
    content:"";
    position:absolute;
    left:0; right:0; top:-8px;
    height:8px;
    background: linear-gradient(to bottom, rgba(0,0,0,0.06), rgba(0,0,0,0.00));
    pointer-events:none;
  }

  /* ---------- CARD STACK ---------- */
  .card-stack {
    position: absolute;
    right: 4%;
    top: 12%;
    width: 28%;
    max-width: 300px;
    aspect-ratio: 3/4;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    perspective: 1000px;
    z-index: 6;
  }

  .card {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 6px 18px rgba(0,0,0,0.18);
    background: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    backface-visibility: hidden;
    transition: transform 0.6s ease, opacity 0.6s ease;
  }

  .card img, .card video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    border-radius: 8px;
  }

  .card-stack .card:nth-child(1) { transform: translateY(0px) scale(1); z-index:3; }
  .card-stack .card:nth-child(2) { transform: translateY(6px) scale(0.96); z-index:2; }
  .card-stack .card:nth-child(3) { transform: translateY(12px) scale(0.92); z-index:1; }

  /* ---------- SPEED DIAL ---------- */
  .speed-dial {
    position: absolute;
    right: 40%;
    top: 15%;
    width: 50%; /* 50% of card stack width */
    aspect-ratio: 1/1;
    perspective: 600px;
    z-index: 7;
    cursor: grab;
  }

  .sphere {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: conic-gradient(
      #f7e9b8, #cfeec7, #f7cfcf, #f7e9b8, #cfeec7
    );
    box-shadow: inset -4px -4px 10px rgba(255,255,255,0.4),
                inset 4px 4px 10px rgba(0,0,0,0.2),
                0 6px 16px rgba(0,0,0,0.2);
    transform-style: preserve-3d;
    transition: transform 0.05s linear;
  }

  /* ---------- RESPONSIVE ---------- */
  @media (max-width: 900px){
    .tabs{ top:7%; height:13% }
    .tab{ flex:0 0 24% }
    .tab:nth-child(1){ margin-top:7% }
    .tab:nth-child(2){ margin-top:11% }
    .tab:nth-child(3){ margin-top:15% }
    .paper{ top:17% ; height:4.5% }
    .folder-front{ top:21% }
    .card-stack { width: 36%; max-width: 220px; top: 14%; }
    .speed-dial { right: 40%; width: 50%; height: 50%; top: 16%; }
  }

  @media (max-width:480px){
    .tabs{ top:8%; height:14% ; padding-left:4% }
    .tab{ flex:0 0 30%; font-size:0.9rem }
    .tab:nth-child(1){ margin-top:8% }
    .tab:nth-child(2){ margin-top:12% }
    .tab:nth-child(3){ margin-top:16% }
    .paper{ top:19% ; height:4% }
    .folder-front{ top:23% }
    .card-stack { width: 50%; max-width: 180px; top: 16%; right: 2%; }
    .speed-dial { right: 54%; width: 40%; height: 40%; top: 18%; }
  }

  .tab button{ all:unset; cursor:pointer; display:block; width:100%; height:100%; text-align:center; padding:0 8px }
</style>
</head>
<body>
  <!-- SKY AND CLOUDS -->
  <div class="cloud small" aria-hidden="true"></div>
  <div class="cloud large" aria-hidden="true"></div>

  <!-- BACK OF FOLDER -->
  <div class="folder-back" aria-hidden="true"></div>

  <!-- TABS -->
  <div class="tabs" role="presentation" aria-hidden="false">
    <div class="tab manila"><button type="button">Tab One</button></div>
    <div class="tab green"><button type="button">Tab Two</button></div>
    <div class="tab pink"><button type="button">Tab Three</button></div>
  </div>

  <!-- PAPER SLIVER -->
  <div class="paper" aria-hidden="true"></div>

  <!-- FRONT FOLDER -->
  <div class="folder-front" aria-hidden="true">
    <!-- SPEED DIAL -->
    <div class="speed-dial">
      <div class="sphere"></div>
    </div>

    <!-- CARD STACK -->
    <div class="card-stack">
      <div class="card"><img src="my_homepage/image1.jpg" alt="Card 1"></div>
      <div class="card"><video src="my_homepage/video1.mp4" muted autoplay loop></video></div>
      <div class="card"><img src="my_homepage/image2.jpg" alt="Card 2"></div>
      <div class="card"><img src="my_homepage/image3.jpg" alt="Card 3"></div>
    </div>
  </div>

  <script>
    const stack = document.querySelector('.card-stack');
    let intervalTime = 4000;
    let intervalId;

    function cycleCards() {
      const cards = stack.querySelectorAll('.card');
      if(cards.length <= 1) return;

      const topCard = cards[0];
      const secondCard = cards[1];

      topCard.style.transform = 'translateX(120%) rotate(10deg)';
      topCard.style.opacity = '0';

      secondCard.style.transform = 'translateY(0px) scale(1)';
      secondCard.style.zIndex = 3;

      for(let i = 2; i < cards.length; i++){
        const yOffset = 6 * (i-1);
        const scale = 1 - 0.04*(i-1);
        cards[i].style.transform = `translateY(${yOffset}px) scale(${scale})`;
        cards[i].style.zIndex = 3 - i;
      }

      setTimeout(()=>{
        topCard.style.transition = 'none';
        const n = cards.length;
        topCard.style.transform = `translateY(${6*(n-1)}px) scale(${1-0.04*(n-1)})`;
        topCard.style.opacity = '1';
        topCard.style.zIndex = 1;
        stack.appendChild(topCard);

        void topCard.offsetWidth;
        topCard.style.transition = 'transform 0.6s ease, opacity 0.6s ease';
      }, 600);
    }

    function startInterval() {
      clearInterval(intervalId);
      intervalId = setInterval(cycleCards, intervalTime);
    }
    startInterval();

    // ---------- SPEED DIAL INERTIA ----------
    const sphere = document.querySelector('.sphere');
    let isDragging = false;
    let lastX = 0;
    let lastY = 0;
    let velocityX = 0;
    let velocityY = 0;
    let rotationX = 0;
    let rotationY = 0;
    let inertiaInterval;

    function updateCardStackSpeed(velocity){
      const minInterval = 500;
      const maxInterval = 4000;
      const clamped = Math.min(50, Math.max(0, velocity));
      intervalTime = maxInterval - (clamped/50)*(maxInterval - minInterval);
      startInterval();
    }

    sphere.addEventListener('pointerdown', e => {
      isDragging = true;
      lastX = e.clientX;
      lastY = e.clientY;
      if(inertiaInterval) clearInterval(inertiaInterval);
      sphere.setPointerCapture(e.pointerId);
    });

    sphere.addEventListener('pointermove', e => {
      if(!isDragging) return;
      const deltaX = e.clientX - lastX;
      const deltaY = e.clientY - lastY;
      lastX = e.clientX;
      lastY = e.clientY;

      rotationX += deltaY;
      rotationY += deltaX;
      sphere.style.transform = `rotateX(${rotationX}deg) rotateY(${rotationY}deg)`;

      velocityX = deltaX;
      velocityY = deltaY;

      const speed = Math.sqrt(deltaX*deltaX + deltaY*deltaY);
      updateCardStackSpeed(speed);
    });

    sphere.addEventListener('pointerup', e => {
      isDragging = false;

      inertiaInterval = setInterval(() => {
        velocityX *= 0.95;
        velocityY *= 0.95;

        rotationX += velocityY;
        rotationY += velocityX;
        sphere.style.transform = `rotateX(${rotationX}deg) rotateY(${rotationY}deg)`;

        const speed = Math.sqrt(velocityX*velocityX + velocityY*velocityY);
        updateCardStackSpeed(speed);

        if(speed < 0.5) clearInterval(inertiaInterval);
      }, 16);
    });
  </script>
</body>
</html>
